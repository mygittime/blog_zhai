---
layout:algorithm
title:"适用于数组拖动排序"
categories:algorihm
keywords:"数组"，"拖动","排序","array","move","sort"
---
<h4>{{page.title}}</h4>
<p>因为项目需要对元素进行拖动排序，正常写的话需要判断的情况太多，就写了一个自以为还不错的方法。才疏学浅，忘不吝赐教</p>
<pre>
<code>
function moveToSort(arr, startValue=null, endValue=null){
	//注意！！！开始位置小于结束位置时，endValue值插入后元素的实际位置，而非插入时的位置
	if(!arr || arr.length == 0){
		return [];
	}
	if(startValue == null || endValue == null){
		return arr;
	}
	let arr01 = [];
	let arr02 = [];
	let arr03 = [];
	let minIndex = Math.min(startValue, endValue);
	let maxIndex = Math.max(startValue, endValue);

	//将原数组分割成三个数组，前后两个数组不会改变，只有中间一个数组的数据会发生改变
	for(let i=0; i<arr.length; i++){
		if(i < minIndex){
			arr01.push(arr[i]);
		}else if(minIndex<=i && i<=maxIndex){
			arr02.push(arr[i])
		}else if(i > maxIndex){
			arr03.push(arr[i])
		}
	}
	//改变中间数组的数据
	//开始位置小于结束位置
	if(startValue < endValue){
		arr02.push(arr02[0]);
		arr02.shift();
	}else if(startValue > endValue){//开始位置大于结束位置
		arr02.unshift(arr02[arr02.length-1]);
		arr02.pop();
	}
	//拼接成新的数据并返回
	return arr01.concat(arr02,arr03)
}
</code>
</pre>
